{"version":3,"file":"2-form-4d58866d.js","sources":["../../src/js/2-form.js"],"sourcesContent":["/**\n * Add data to localStorage\n * @param {String} key\n * @param {*} value\n */\nfunction saveToLocalStorage(key, value) {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n}\n\n/**\n * Get data from localStorage\n * @param {String} key\n * @returns {*}\n */\nfunction loadFromLocalStorage(key) {\n  const json = localStorage.getItem(key);\n\n  try {\n    const data = JSON.parse(json);\n    return data;\n  } catch {\n    return json;\n  }\n}\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\nconst feedbackFormEl = document.querySelector('.feedback-form');\nconst feedbackFormState = 'feedback-form-state';\n\nfeedbackFormEl.addEventListener('submit', event => {\n  event.preventDefault();\n\n  let usermail = feedbackFormEl.elements.email.value;\n  let usermessage = feedbackFormEl.elements.message.value;\n\n  usermail = usermail.trim();\n  usermessage = usermessage.trim();\n\n  if (usermail === '' || usermessage === '') {\n    alert('Fill please all fields');\n  } else {\n    console.log(formData);\n\n    // очисти локальне сховище, об’єкт formData і поля форми\n    localStorage.removeItem(feedbackFormState);\n\n    formData.email = '';\n    formData.message = '';\n\n    feedbackFormEl.reset();\n  }\n\n  console.log(formData);\n});\n\nfeedbackFormEl.addEventListener('input', event => {\n  // отримати значення з полів\n  let usermail = feedbackFormEl.elements.email.value;\n  let usermessage = feedbackFormEl.elements.message.value;\n\n  usermail = usermail.trim();\n  usermessage = usermessage.trim();\n\n  // покласти значення з полів у об'єкт formData\n  formData.email = usermail;\n  formData.message = usermessage;\n\n  // Введення даних в одне поле форми не видаляє дані в сховищі для іншого ????\n  // додати об'кт у localStorage\n  saveToLocalStorage(feedbackFormState, formData);\n});\n\n// При завантаженні сторінки перевір, чи є дані у локальному сховищі.\nconst dataFromLS = localStorage.getItem(feedbackFormState);\n\nif (dataFromLS !== null) {\n  // console.log(dataFromLS);\n\n  // використовуй дані для заповнення форми та об'єкта formData\n  const parseData = JSON.parse(dataFromLS);\n\n  // перевірка на помилку тут\n\n  feedbackFormEl.elements.email.value = parseData.email;\n  feedbackFormEl.elements.message.value = parseData.message;\n\n  formData.email = parseData.email;\n  formData.message = parseData.message;\n}\n"],"names":["saveToLocalStorage","key","value","jsonData","formData","feedbackFormEl","feedbackFormState","event","usermail","usermessage","dataFromLS","parseData"],"mappings":"AAKA,SAASA,EAAmBC,EAAKC,EAAO,CACtC,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,CAkBA,MAAMC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAoB,sBAE1BD,EAAe,iBAAiB,SAAUE,GAAS,CACjDA,EAAM,eAAc,EAEpB,IAAIC,EAAWH,EAAe,SAAS,MAAM,MACzCI,EAAcJ,EAAe,SAAS,QAAQ,MAElDG,EAAWA,EAAS,OACpBC,EAAcA,EAAY,OAEtBD,IAAa,IAAMC,IAAgB,GACrC,MAAM,wBAAwB,GAE9B,QAAQ,IAAIL,CAAQ,EAGpB,aAAa,WAAWE,CAAiB,EAEzCF,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAEnBC,EAAe,MAAK,GAGtB,QAAQ,IAAID,CAAQ,CACtB,CAAC,EAEDC,EAAe,iBAAiB,QAASE,GAAS,CAEhD,IAAIC,EAAWH,EAAe,SAAS,MAAM,MACzCI,EAAcJ,EAAe,SAAS,QAAQ,MAElDG,EAAWA,EAAS,OACpBC,EAAcA,EAAY,OAG1BL,EAAS,MAAQI,EACjBJ,EAAS,QAAUK,EAInBT,EAAmBM,EAAmBF,CAAQ,CAChD,CAAC,EAGD,MAAMM,EAAa,aAAa,QAAQJ,CAAiB,EAEzD,GAAII,IAAe,KAAM,CAIvB,MAAMC,EAAY,KAAK,MAAMD,CAAU,EAIvCL,EAAe,SAAS,MAAM,MAAQM,EAAU,MAChDN,EAAe,SAAS,QAAQ,MAAQM,EAAU,QAElDP,EAAS,MAAQO,EAAU,MAC3BP,EAAS,QAAUO,EAAU,OAC/B"}